<div id="event-list" class="relative group rounded-xl flex flex-col gap-2">
  <% events.each do |event| %>
    <%= link_to event_cfp_index_path(event), class: "call-for-papers-item flex gap-4 group p-2 hover:bg-gray-200 rounded-md" do %>
      <div class="flex flex-col lg:flex-row gap-8 items-center lg:justify-right text-center lg:text-left flex-shrink-0">
        <%= image_tag image_path(event.avatar_image_path),
              class: "rounded-xl border border-[#D9DFE3] size-16",
              alt: event.name.to_s,
              loading: :lazy %>
      </div>

      <div class="flex-col flex justify-center relative overflow-hidden">
        <div class="text-black group-hover:text-inherit font-bold text-xl"><%= event.name %></div>
        <div class="text-[#636B74] group-hover:text-inherit"><%= event.formatted_dates %> â€¢ <%= event.static_metadata.location %></div>
        <% event.cfps.each do |cfp| %>
          <div class="text-[#636B74] group-hover:text-inherit font-bold">
            <% if cfp.close_date.present? && (cfp.open_date.blank? || cfp.open_date.past?) %>
              CFP closes on
              <%= cfp.formatted_close_date %>
            <% elsif cfp.open_date.present? && cfp.open_date.future? %>
              CFP opens on
              <%= cfp.formatted_open_date %>
            <% elsif cfp.open_ended? %>
              CFP always open
            <% end %>
          </div>
        <% end %>
      </div>

      <div class="hidden sm:flex gap-2 absolute right-2">
        <%= render "shared/cfp_countdown_badge", event: event %>
        <%= render "shared/event_countdown_badge", event: event %>
      </div>
    <% end %>
  <% end %>
</div>
