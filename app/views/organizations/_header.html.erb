<div
  class="w-full md:h-[198px] lg:h-[267px] xl:h-[336px] 2xl:h-[405px] justify-center align-center flex mt-3 border-t border-b hotwire-native:hidden"
  style="
    view-transition-name: hero;
    <% if organization.organization_image_for("banner.webp") %>
      background: url('<%= image_path(organization.banner_image_path) %>');
      background-repeat: no-repeat;
      background-size: cover;
    <% else %>
      background: linear-gradient(135deg, #3B82F6, #10B981, #60A5FA);
    <% end %>
  ">
  <% if organization.organization_image_for("banner.webp") %>
    <%= image_tag image_path(organization.banner_image_path), class: "w-full md:container object-cover" %>
  <% end %>
</div>

<div class="container py-8">
  <div class="block lg:flex gap-8 align-center justify-between">
    <div class="flex flex-col lg:flex-row gap-8 items-center lg:justify-right text-center lg:text-left mb-6 lg:mb-0">
      <% if organization.has_logo_image? %>
        <div class="<%= organization.logo_background_class %> rounded-lg border <%= organization.logo_border_class %> size-24 md:size-36 p-2"
             style="view-transition-name: avatar">
          <%= image_tag organization.logo_image_path,
                class: "w-full h-full object-contain",
                alt: "#{organization.name} Logo",
                loading: :lazy,
                onerror: "this.style.display='none'; this.nextElementSibling.style.display='flex';" %>
          <div class="w-full h-full bg-gray-100 items-center justify-center hidden">
            <span class="text-4xl md:text-6xl font-bold text-gray-600"><%= organization.name.first %></span>
          </div>
        </div>
      <% elsif organization.organization_image_for("avatar.webp") %>
        <%= image_tag image_path(organization.avatar_image_path),
              class: "rounded-lg border border-[#D9DFE3] size-24 md:size-36",
              alt: "#{organization.name} Avatar",
              style: "view-transition-name: avatar",
              loading: :lazy %>
      <% else %>
        <div class="rounded-lg border border-[#D9DFE3] size-24 md:size-36 bg-gray-100 flex items-center justify-center"
             style="view-transition-name: avatar">
          <span class="text-4xl md:text-6xl font-bold text-gray-600"><%= organization.name.first %></span>
        </div>
      <% end %>

      <div class="flex-col flex justify-center break-all">
        <h1 class="mb-2 text-black font-bold" style="view-transition-name: title"><%= title organization.name %></h1>
        <% if organization.main_location.present? %>
          <h3 class="text-[#636B74]"><%= organization.main_location %></h3>
        <% end %>
        <% if organization.website.present? %>
          <%= external_link_to organization.website.gsub(%r{^https?://}, "").gsub(%r{/$}, ""), organization.website %>
        <% end %>
      </div>
    </div>

    <div class="flex flex-col gap-3 place-items-center">
      <%= ui_button "Back to Organizations", url: organizations_path, kind: :secondary, size: :sm, class: "w-full" %>
      <% if Current.user&.admin? && organization.logo_urls.present? %>
        <%= ui_button "Manage Logos", url: organization_logos_path(organization), kind: :primary, size: :sm, class: "w-full" %>
      <% end %>
    </div>
  </div>

  <% if organization.description.present? %>
    <p class="mt-6 text-[#636B74] max-w-[700px]">
      <%= organization.description %>
    </p>
  <% end %>
</div>
