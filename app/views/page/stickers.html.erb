<div class="bg-black">
  <div class="container">
    <%= render partial: "shared/stickers_display", locals: {events: @events} %>

    <div class="pb-12">
      <h2 class="text-3xl font-bold text-center text-white mb-8">Available Stickers</h2>

      <div class="space-y-8">
        <% @events.group_by(&:organisation).sort_by { |org, _| org.name }.each do |organisation, org_events| %>
          <div class="bg-gray-900 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-white mb-4"><%= organisation.name %></h3>

            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
              <% org_events.sort_by { |e| e.date || Date.new(1900, 1, 1) }.reverse.each do |event| %>
                <%= link_to event, class: "group relative bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-colors" do %>
                  <div class="aspect-square flex items-center justify-center mb-2">
                    <%= image_tag event.sticker_image_path, class: "max-w-full max-h-full object-contain group-hover:scale-110 transition-transform" %>
                  </div>
                  <p class="text-xs text-gray-300 text-center truncate"><%= event.name %></p>
                <% end %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
