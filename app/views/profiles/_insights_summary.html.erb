<%# locals: (profile:, user:) %>

<% if profile.present? && profile[:categories].present? %>
  <div class="card bg-base-200 shadow-sm">
    <div class="card-body p-4">
      <div class="flex items-center justify-between">
        <h3 class="card-title text-base">Speaker Profile</h3>
        <%= link_to "View All", profile_insights_path(user), class: "btn btn-xs btn-ghost" %>
      </div>

      <div class="flex flex-wrap gap-2 mt-2">
        <% profile[:categories].each do |key, category| %>
          <% next if category[:label] == "Unknown" %>
          <div class="tooltip" data-tip="<%= key.to_s.titleize %>: <%= category[:description] %>">
            <span class="badge badge-lg gap-1">
              <% if category[:icon] %>
                <span><%= category[:icon] %></span>
              <% end %>
              <%= category[:label] %>
            </span>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
