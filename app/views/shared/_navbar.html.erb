<div class="navbar relative z-50 bg-transparent">
  <div class="container grid grid-cols-2 lg:grid-cols-[1fr_auto_1fr] justify-between items-center">
    <div class="items-center gap-6 hidden lg:flex">
      <ul class="desktop-menu">
        <%= render "shared/navbar/link", link_title: t("navbar.events"), path: events_path %>
        <%= render "shared/navbar/link", link_title: t("navbar.videos"), path: browse_index_path %>
        <%= render "shared/navbar/link", link_title: t("navbar.speakers"), path: speakers_path %>
        <%= render "shared/navbar/link", link_title: t("navbar.organizations"), path: organizations_path %>
        <%= render "shared/navbar/link", link_title: t("navbar.topics"), path: topics_path %>
        <%= render "shared/navbar/link", link_title: t("navbar.cfp"), path: cfp_index_path %>
      </ul>
    </div>

    <div class="flex justify-start lg:justify-center items-center">
      <%= link_to root_path do %>
        <%= image_tag image_path("logo.png"), class: "size-10 hover:opacity-80" %>
      <% end %>
    </div>

    <div class="flex justify-end items-center">
      <ul class="hidden lg:flex items-center gap-4 h-full">

        <div class="flex items-center gap-2">
          <ul class="desktop-menu">
            <% signed_in do %>
              <%= render "shared/navbar/link", link_title: t("navbar.favorite_rubyists"), path: favorite_users_path %>
            <% end %>
            <%= render "shared/navbar/link", link_title: t("navbar.contribute"), path: contributions_path %>
          </ul>
        </div>

        <%= render "shared/navbar/search_bar", id: "magnifying-glass" %>

        <% signed_in do %>
          <li class="flex items-center">
            <%= link_to profile_path(Current.user), class: "hover:opacity-80 flex items-center", title: t("navbar.my_profile_title") do %>
              <%= render Ui::AvatarComponent.new(Current.user, size: :sm, size_class: "w-7", outline: true) %>
            <% end %>
          </li>
          <li class="flex items-center">
            <%= render "shared/user_dropdown" %>
          </li>
        <% end %>

        <% signed_out do %>
          <li class="flex items-center">
            <%= link_to t("navbar.sign_in"), new_session_path(redirect_to: request.fullpath), data: {turbo_frame: "modal"}, class: "btn btn-primary" %>
          </li>
        <% end %>
      </ul>

      <div class="flex lg:hidden gap-2 items-center">
        <%= render "shared/navbar/search_bar", id: "magnifying-glass-mobile" %>
        <% signed_in do %>
          <%= link_to profile_path(Current.user), class: "hover:opacity-80 flex items-center", title: t("navbar.my_profile_title") do %>
            <%= render Ui::AvatarComponent.new(Current.user, size: :sm, size_class: "w-7", outline: true) %>
          <% end %>
        <% end %>
        <%= render "shared/user_mobile_dropdown" %>
      </div>
    </div>
  </div>
</div>

<%= render "shared/spotlight_search" %>
