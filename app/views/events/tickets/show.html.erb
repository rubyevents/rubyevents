<%= render partial: "events/header", locals: {event: @event} %>

<%= turbo_frame_tag dom_id(@event), data: {turbo_action: "advance", turbo_frame: "_top"} do %>
  <div class="container py-8">
    <%= render partial: "events/navigation", locals: {event: @event} %>

    <div class="flex flex-col gap-8 mt-8">
      <section class="bg-white rounded-lg border p-6 shadow-sm">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Tickets</h2>

        <p class="text-gray-600 mb-6">
          Tickets for <%= @event.name %> are sold directly by the event organizer<% if @event.tickets.provider_name %> via <%= link_to @event.tickets.provider_name, @event.tickets.url, target: "_blank", rel: "noopener", class: "link" %><% end %>.
          RubyEvents is not responsible for ticket sales, refunds, or any issues related to your purchase.
          For more information, check out the <%= link_to "ticket details", @event.tickets.url, target: "_blank", rel: "noopener", class: "link" %><% if @event.website.present? %> or the <%= link_to "conference website", @event.website, target: "_blank", rel: "noopener", class: "link" %><% end %>.
        </p>

        <% if @event.tickets.tito? %>
          <%= render Tito::WidgetComponent.new(event: @event, wrapper: false) %>
        <% end %>

        <p class="<% if @event.tickets.tito? %> mt-6 <% end %>">
          <%= link_to @event.tickets.url, target: "_blank", rel: "noopener", class: "btn btn-primary" do %>
            <%= @event.tickets.provider_name ? "Open on #{@event.tickets.provider_name}" : "Buy Tickets" %>
            <%= fa("square-arrow-up-right", size: :xs, style: :solid, class: "ml-1") %>
          <% end %>
        </p>
      </section>
    </div>
  </div>
<% end %>
